# log_server_parser

Описание работы парсера.

1. При запуске, обязательно указать название файла в консоли через флаг -f.
2. Если необходимо запустить несколько файлов в одной директории после флага -f нужно перечислить названия файлов. -f log1.log log2.log ...
3. Если необходимо указать директорию, это можно сделать через флаг -d (путь к директории с файлом) -f (название файла или файлов)
4. Через библиотеку argparse из консоли получаем директорию и файлы для работы скрипта
5. Далее выполняется цикл для каждого файла(если он не один) с основным скриптом парсера
6. В функции main_func() происходят основные операции с файлом
7. Внутри находятся функции, которые собирают разлинчую информацию
8. Функция search_ip() создает словарь со всеми ip-адресами и колличесвтом запросов от адресов
9. Функция search_requests() создает словарь со всеми названиями запросов и их колличеством
10. Функция main_func() ведет подсчета общего числа запросов 32 строка
11. С 35 строки по 48 выполняется создание словарь с самыми долгими запросами
12. Функция top_ip() возвращает топ 3 ip-адреса, с которых было больше всего запросов
13. Функция info_long_requests() через регулярные выражения находит информацию трех самых долгих запросов (ip, дата и время, запрос, url, время выполнения)
14. Функция json_data() собирает всю полученную информацию за время выполнения скрипта
15. Так же функция json_data() создает рандомное имя файла, записывает в формате json данные выводит их в консоль и обнуляет все словари и списки с данными, для подготовки скрипта к парсингу следующего файла.